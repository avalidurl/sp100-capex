<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S&P 100 Capital Expenditure</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1><a href="/" style="text-decoration: none; color: inherit; cursor: pointer;">S&P 100 Capital Expenditure</a></h1>
        <p>Latest quarterly capex data for top 100 S&P companies</p>
        <div id="last-updated"></div>
        <div id="market-status"></div>
    </header>

    <main>
        <div class="controls">
            <input type="text" id="search" placeholder="Search companies...">
            <select id="sort-by">
                <option value="capex">Sort by Capex</option>
                <option value="market_cap">Sort by Market Cap</option>
                <option value="name">Sort by Name</option>
                <option value="sector">Sort by Sector</option>
                <option value="revenue">Sort by Revenue</option>
            </select>
            <select id="filter-sector">
                <option value="">All Sectors</option>
                <option value="Technology">Technology</option>
                <option value="Healthcare">Healthcare</option>
                <option value="Financials">Financials</option>
                <option value="Consumer Discretionary">Consumer Discretionary</option>
                <option value="Consumer Staples">Consumer Staples</option>
                <option value="Energy">Energy</option>
                <option value="Industrials">Industrials</option>
                <option value="Telecommunications">Telecommunications</option>
                <option value="Financial Services">Financial Services</option>
            </select>
            <a href="chart.html" class="nav-btn">üìä Chart View</a>
            <a href="insights.html" class="nav-btn">üîç Insights</a>
        </div>

        <div class="info-note">
            <p><strong>üí° Note:</strong> Negative numbers represent capital investments (money spent on infrastructure, facilities, and growth). Larger negative numbers indicate bigger investments in future growth.</p>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <span class="stat-label">Total Companies:</span>
                <span id="total-companies">0</span>
            </div>
            <div class="stat">
                <span class="stat-label">Total Capex:</span>
                <span id="total-capex">$0</span>
            </div>
            <div class="stat">
                <span class="stat-label">Avg Capex:</span>
                <span id="avg-capex">$0</span>
            </div>
        </div>

        <div id="loading">Loading data...</div>
        <div id="error" class="hidden">Error loading data</div>
        
        <div id="company-list" class="hidden"></div>
    </main>

    <footer>
        <p>Data provided by Financial Modeling Prep</p>
        <div class="donate">
            <p><strong>Support this project so the dev can subscribe to real-time data tiers to serve your needs the best:</strong></p>
            <div class="crypto-addresses">
                <div class="address-item">
                    <span class="chain-label">EVM:</span>
                    <code class="crypto-address" onclick="copyToClipboard('0x36De990133D36d7E3DF9a820aA3eDE5a2320De71', this)">0x36De990133D36d7E3DF9a820aA3eDE5a2320De71</code>
                </div>
                <div class="address-item">
                    <span class="chain-label">SOL:</span>
                    <code class="crypto-address" onclick="copyToClipboard('J1ALikLy5TZ9tqZq5zxSem5P9G4Wo6fXXWSGGjEvd9Pg', this)">J1ALikLy5TZ9tqZq5zxSem5P9G4Wo6fXXWSGGjEvd9Pg</code>
                </div>
            </div>
        </div>
        <div class="credit">
            <p>Made by <a href="https://x.com/0xgokhan" target="_blank" rel="noopener">0xgokhan</a></p>
        </div>
    </footer>

    <!-- News Modal -->
    <div id="news-modal" class="news-modal">
        <div class="news-modal-content">
            <div class="news-modal-header">
                <h2 class="news-modal-title" id="news-modal-title">
                    üì∞ Company News
                </h2>
                <button class="news-modal-close" onclick="closeNewsModal()">&times;</button>
            </div>
            <div class="news-modal-body" id="news-modal-body">
                <div class="news-loading" id="news-loading">
                    <div class="news-loading-spinner"></div>
                    <p>Loading latest news...</p>
                </div>
                <div class="news-error hidden" id="news-error">
                    <div class="news-error-icon">‚ö†Ô∏è</div>
                    <p>Unable to load news at this time</p>
                    <p><small>Please try again later</small></p>
                </div>
                <div class="news-list hidden" id="news-list">
                    <!-- News articles will be populated here -->
                </div>
                <div class="news-empty hidden" id="news-empty">
                    <div class="news-empty-icon">üì∞</div>
                    <p>No recent news found</p>
                    <p><small>Try checking back later for updates</small></p>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js?v=3"></script>
</body>
</html>